# setwd('/home/dave/school_lab/Courses/STAT854/Assignments/Project/')
setwd('/home/dave/school_lab/Courses/STAT854/Assignments/Project/')
library('lpstuff')
source('mt.R')
install.packages("~/Downloads/Temp/lpstuff_1.0.tar.gz", repos = NULL)
library('lpstuff')
source('mt.R')
data_path <- "BFO_data.10s"
N <- 1000
source('Q1.R')
data <- Q1(data_path, N)
source('Q2.R')
R.B <- Q2(data[[2]][1:N])
source('Q3.R')
s.mt <- Q3(data[[2]][1:N], N, 2048)
data <- data[[2]][1:N]
M2 <- 400
win.han <- (1/2) * (1 - cos(2 * pi * ((1:M2) + 0.5)/M2))
data.han1 <- data[1:400] * win.han
data.han2 <- data[201:600] * win.han
data.han3 <- data[401:801] * win.han
data.han4 <- data[601:1000] * win.han
data.han3 <- data[401:800] * win.han
data.han4 <- data[601:1000] * win.han
spec.han1 <- (abs(fft(c(data.han1, rep(0, 1024 - M2)))))^2
spec.han2 <- (abs(fft(c(data.han2, rep(0, 1024 - M2)))))^2
spec.han3 <- (abs(fft(c(data.han3, rep(0, 1024 - M2)))))^2
spec.han4 <- (abs(fft(c(data.han4, rep(0, 1024 - M2)))))^2
spec.han <- (1/4) * (spec.han1 + spec.han2 + spec.han3 +
spec.han4)
plot(spec.han, type='l', log='y')
plot(spec.han[1:1025], type='l', log='y')
plot(spec.han[1:513], type='l', log='y')
?median
?matrix
?apply
ln(exp(1))
log(exp(1))
?list
list(one=1)
list(one=c(1,2,3))
setwd('/home/dave/school_lab/Courses/STAT854/Assignments/Project/')
library('lpstuff')
source('mt.R')
data_path <- "BFO_data.10s"
N <- 1000
source('Q1.R')
data <- Q1(data_path, N)
source('Q2.R')
R.B <- Q2(data[[2]][1:N])
source('Q3.R')
s.mt <- Q3(data[[2]][1:N], N, 2048)
data <- data[[2]][1:N]
M2 <- 400
win.han <- (1/2) * (1 - cos(2 * pi * ((1:M2) + 0.5)/M2))
data.han1 <- data[1:400] * win.han
data.han2 <- data[201:600] * win.han
data.han3 <- data[401:800] * win.han
data.han4 <- data[601:1000] * win.han
spec.han1 <- (abs(fft(c(data.han1, rep(0, 1024 - M2)))))^2
spec.han2 <- (abs(fft(c(data.han2, rep(0, 1024 - M2)))))^2
spec.han3 <- (abs(fft(c(data.han3, rep(0, 1024 - M2)))))^2
spec.han4 <- (abs(fft(c(data.han4, rep(0, 1024 - M2)))))^2
spec.han_mean <- (1/4) * (spec.han1 + spec.han2 + spec.han3 +
spec.han4)
plot(spec.han_mean[1:513], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Mean")
spec.han_matrix <- matrix(data=c(spec.han1, spec.han2, spec.han3,
spec.han4), nrow=4, ncol=1000)
library('lpstuff')
source('mt.R')
data_path <- "BFO_data.10s"
N <- 1000
source('Q1.R')
data <- Q1(data_path, N)
source('Q2.R')
R.B <- Q2(data[[2]][1:N])
source('Q3.R')
s.mt <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
s.mt <- Q3(data[[2]][1:N], N, 2048)
data <- data[[2]][1:N]
M2 <- 400
win.han <- (1/2) * (1 - cos(2 * pi * ((1:M2) + 0.5)/M2))
# I should have used a loop or something else here...
data.han1 <- data[1:400] * win.han
data.han2 <- data[201:600] * win.han
data.han3 <- data[401:800] * win.han
data.han4 <- data[601:1000] * win.han
spec.han1 <- (abs(fft(c(data.han1, rep(0, 1024 - M2)))))^2
spec.han2 <- (abs(fft(c(data.han2, rep(0, 1024 - M2)))))^2
spec.han3 <- (abs(fft(c(data.han3, rep(0, 1024 - M2)))))^2
spec.han4 <- (abs(fft(c(data.han4, rep(0, 1024 - M2)))))^2
spec.han_mean <- (1/4) * (spec.han1 + spec.han2 + spec.han3 +
spec.han4)
plot(spec.han_mean[1:513], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Mean")
spec.han_matrix <- matrix(data=c(spec.han1, spec.han2, spec.han3,
spec.han4), nrow=4, ncol=1024)
spec.han_med <- apply(spec.han_matrix, 2, median)
plot(spec.han_med[1:513], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Median")
spec.han_exp <- exp((1/4) * (log(spec.han1) + log(spec.han2) +
log(spec.han3) + log(spec.han4)))
plot(spec.han_exp, type='l', log='y')
1/20
?matrix
spec.han_matrix <- matrix(data=c(spec.han1, spec.han2, spec.han3,
spec.han4), nrow=4, ncol=1024,
byrow=TRUE)
spec.han_med <- apply(spec.han_matrix, 2, median)
plot(spec.han_med[1:513], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Median")
?data.frame
freq <- seq(0, 1/(2*10), 1/M)
M <- 2048
freq <- seq(0, 1/(2*10), 1/M)
M2 <- 400
win.han <- (1/2) * (1 - cos(2 * pi * ((1:M2) + 0.5)/M2))
# I should have used a loop or something else here...
data.han1 <- data[1:400] * win.han
data.han2 <- data[201:600] * win.han
data.han3 <- data[401:800] * win.han
data.han4 <- data[601:1000] * win.han
# Calculate the section spectra
spec.han1 <- (abs(fft(c(data.han1, rep(0, M - M2)))))^2
spec.han2 <- (abs(fft(c(data.han2, rep(0, M - M2)))))^2
spec.han3 <- (abs(fft(c(data.han3, rep(0, M - M2)))))^2
spec.han4 <- (abs(fft(c(data.han4, rep(0, M - M2)))))^2
spec.han_mean <- (1/4) * (spec.han1 + spec.han2 + spec.han3 +
spec.han4)
plot(freq, spec.han_mean[1:1025], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Mean")
length(freq)
length(spec.han_mean)
freq <- seq(0, 1/(2*10), 1/(20*M))
length(freq)
freq <- seq(0, 1/(2*10), 1/(10*M))
length(freq)
spec.han_mean <- (1/4) * (spec.han1 + spec.han2 + spec.han3 +
spec.han4)
plot(freq, spec.han_mean[1:1025], type='l', log='y', xlab="Frequency",
ylab="Spectrum", main="Hanning Sections - Mean")
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
library('lpstuff')
source('mt.R')
data_path <- "BFO_data.10s"
N <- 1000
source('Q1.R')
data <- Q1(data_path, N)
source('Q2.R')
R.B <- Q2(data[[2]][1:N])
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
plot(spec$freq, spec$mt, type='l', log='y',
ylab="Spectrum", xlab="Frequency", main="BMG microbarometer")
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
plot(spec$freq, spec$mt, type='l', log='y',
ylab="Spectrum", xlab="Frequency", main="BMG microbarometer")
str(spec)
attr(spec)
type(spec)
str(spec)
?data.frame
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
plot(spec$freq, spec$mt, type='l', log='y',
ylab="Spectrum", xlab="Frequency", main="BMG microbarometer")
str(spec)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
plot(spec)
plot(spec, log='y')
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
str(spec)
Q3.R
Q3
setwd('/home/dave/school_lab/Courses/STAT854/Assignments/sp/')
library('lpstuff')
source('mt.R')
data_path <- "BFO_data.10s"
N <- 1000
source('Q1.R')
# Returns a list
# - raw data in [[1]], demeaned data in [[2]]
data <- Q1(data_path, N)
# Computes first 200 autocorrelations
source('Q2.R')
R.B <- Q2(data[[2]][1:N])
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
source('Q3.R')
spec <- Q3(data[[2]][1:N], N, 2048)
